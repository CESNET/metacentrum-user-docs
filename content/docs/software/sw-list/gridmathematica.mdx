---
title: GridMathematica
---
```bash
module avail gridmathematica/
```

[GridMathematica](https://www.wolfram.com/gridmathematica/) is an integrated extension system for increasing the power of your Mathematica licenses. Each gridMathematica Server gives Mathematica users a shared pool of 16 additional network-enabled Mathematica computation kernels for running distributed parallel computations over multiple CPUs.

There is no need to change your existing parallel code—just make gridMathematica Server available, and parallel programs can automatically use the additional CPU power. 

## Usage

### License Status

Although GridMathematica modules are still technically present in the MetaCentrum environment, **all license support for this software expired**, including:

- the **Mathematica controlling kernel** (frontend),
- and **GridMathematica compute kernel licenses** (parallel computation).

> **MetaCentrum does not currently provide any valid license for either Mathematica or GridMathematica.**

As a result, **Mathematica and GridMathematica can no longer be used within MetaCentrum** unless the user provides their own valid activation key for both components.

If you or your institution holds a valid *Mathematica Site* or *GridMathematica* license, you may still be able to use MetaCentrum compute nodes by configuring access to your institutional license server.

---

### Options for Users with Institutional Licenses

If you have access to a valid license through your university or department, you can:

- Run **Mathematica** locally or on MetaCentrum nodes using your institution’s license server,
- Connect to remote **MetaCentrum compute nodes** manually, using GridMathematica kernels started on demand — *only if your institutional license permits such distributed use*.

MetaCentrum does **not** provide license support for Mathematica or GridMathematica compute kernels. The following usage options apply **only if you configure access to your own institutional license server**.

### Interactive use

Request an interactive job on a MetaCentrum frontend node with the desired number of CPUs:

```bash
qsub -I -l select=X:ncpus=Y:... 
```

Prepare your environment:

```bash
module add gridmathematica/9
# OR use
# module add mathematica/9-XXX  # Only if a module for your institution (XXX) exists

# Start the computational kernels
math-grid start  # See math-grid --help for options
```

Copy the output of `math-grid` to your local Mathematica notebook and press SHIFT+ENTER to connect.

You can verify kernel connectivity using:

```mathematica
Kernels[]

TableForm[
  ParallelEvaluate[{$KernelID, $MachineName, $SystemID, $ProcessID, $Version}],
  TableHeadings -> {None, {"ID", "host", "OS", "process", "Mathematica Version"}}
]
```

Don't forget to shut down the kernels using `CloseKernels[]` once your work is done.

### Batch use

You must configure Mathematica to use your institution’s license server.

In `$HOME/.Mathematica/Licensing/mathpass`:

```bash
echo '!mylicenseserver.somewhere.cz' > $HOME/.Mathematica/Licensing/mathpass
chmod go= $HOME/.Mathematica/Licensing/mathpass
```

Place your notebook (`*.nb`) on a shared filesystem and wrap it with:

```mathematica
<< "! math-grid start"
... Your computation ...
CloseKernels[]
```

Example batch script (`startup_script.sh`):

```bash
#!/bin/bash
module add gridmathematica/9
math -run < path_to_your_Mathematica_file
# Or: math -script path_to_your_Mathematica_file
```

Submit it with:

```bash
qsub -l select=X:ncpus=Y:... startup_script.sh
```

### Parallel runs

To run serial computations in parallel, split the workload into multiple tasks and use `ParallelEvaluate` to distribute across available kernels.
